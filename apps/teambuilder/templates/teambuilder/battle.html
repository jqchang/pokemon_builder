<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Battle</title>
        {% load staticfiles %}
        <link rel="stylesheet" type="text/css" href={%static "teambuilder/css/battle.css"%}>
        <script src="{%static 'teambuilder/js/jquery.min.js'%}"></script>
        <script src="{%static 'teambuilder/js/battle.js'%}"></script>
    </head>
    <body>
        <!-- <div class="roster">
            <table>
                <tr><th>OPPONENTS</th></tr>
                <tr><td>user1</td></tr>
                <tr><td>user2</td></tr>
                <tr><td>user3</td></tr>
                <tr><td>user4</td></tr>
                <tr><td>user5</td></tr>
                <tr><td>user6</td></tr>
            </table>
        </div> -->
        <div class="battle">
            <div class="user">
                <p>{{user.username}}</p>
                <p>
                    {% if user.pkmn.all %}
                    {% for pk in user.pkmn.all %}
                    <img src="{% static "teambuilder/img/" %}{{pk.pokeid}}.png" %} />
                    {% endfor %}
                    {% else %}
                    No pokemon enlisted.
                    {% endif %}
                </p>
            </div>
            <h3>VS</h3>
            <div class="opponent">
                <p>{{opponent.username}}</p>
                <p>
                    {% if opponent.pkmn.all %}
                    {% for pk in opponent.pkmn.all %}
                    <img src="{% static "teambuilder/img/" %}{{pk.pokeid}}.png" %} />
                    {% endfor %}
                    {% else %}
                    No pokemon enlisted.
                    {% endif %}
                </p>
            </div>
            <div class="outcome">
                <h1 id='winner'></h1>
                <button id="result">Result</button>
            </div>
        </div>
        <hr>
        <div class="history">
            <div class="user-history">
                <table>
                    <h3>YOUR BATTLE HISTORY</h3>
                    <tr>
                        <th>WINNER</th>
                        <th>OPPONENTS</th>
                    </tr>
                    {%for match in yourmatches%}
                    <tr>
                        <td class="left">{{match.winner_id.username}}</td>
                        <td>{{match.winner_id.username}} VS {{match.loser_id.username}}</td>
                    </tr>
                    {%endfor%}
                </table>
            </div>
            <div class="latest-history">
                <table>
                    <h3>LATEST BATTLES</h3>
                    <tr>
                        <th>WINNER</th>
                        <th>OPPONENTS</th>
                    </tr>
                    {%for match in allmatches%}
                    <tr>
                        <td class="left">{{match.winner_id.username}}</td>
                        <td>{{match.winner_id.username}} VS {{match.loser_id.username}}</td>
                    </tr>
                    {%endfor%}
                </table>
            </div>
        </div>
    </body>
</html>
